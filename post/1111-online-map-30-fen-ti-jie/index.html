<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Grace</title>
<meta name="description" content="Grace's blog" />
<link rel="shortcut icon" href="https://ygytl.github.io//favicon.ico?v=1595253578622">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css">

<link rel="stylesheet" href="https://ygytl.github.io//styles/main.css">



  </head>
  <body>
    <div id="app" class="main px-4 flex flex-col lg:flex-row">
      <div id="sidebar" class="sidebar-wrapper lg:static lg:w-1/4">
  <div class="lg:sticky top-0">
    <div class="sidebar-content">
      <div class="flex lg:block p-4 lg:px-0 items-center fixed lg:static lg:block top-0 right-0 left-0 bg-white z-50">
        <i class="ri-menu-2-line lg:mt-4 text-2xl cursor-pointer animated fadeIn" onclick="openMenu()"></i>
        <a href="https://ygytl.github.io/">
          <img class="animated fadeInLeft avatar rounded-lg mx-4 lg:mt-32 lg:mx-0 mt-0 lg:w-24 lg:h-24 w-12 w-12" src="https://ygytl.github.io//images/avatar.png?v=1595253578622" alt="">
        </a>
        <h1 class="animated fadeInLeft lg:text-4xl font-extrabold lg:mt-8 mt-0 text-xl" style="animation-delay: 0.2s">Grace</h1>
      </div>
      
        <div class="animated fadeInLeft" style="animation-delay: 0.4s">
          <p class="my-4 text-gray-600 font-light hidden lg:block">
            文章目录
          </p>
          <div class="toc-container hidden lg:block">
            <ul class="markdownIt-TOC">
<li>
<ul>
<li>
<ul>
<li><a href="#input-specification">Input Specification:</a></li>
<li><a href="#output-specification">Output Specification:</a></li>
<li><a href="#sample-input-1">Sample Input 1:</a></li>
<li><a href="#sample-output-1">Sample Output 1:</a></li>
<li><a href="#sample-input-2">Sample Input 2:</a></li>
<li><a href="#sample-output-2">Sample Output 2:</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      
    </div>
  </div>
</div>

<div class="menu-container">
  <i class="ri-arrow-left-line text-2xl cursor-pointer animated fadeIn close-menu-btn" onclick="closeMenu()"></i>
  <div>
    
      
        <a href="/" class="menu" style="animation-delay: 0s">
          首页
        </a>
      
    
      
        <a href="/archives" class="menu" style="animation-delay: 0.2s">
          归档
        </a>
      
    
      
        <a href="/tags" class="menu" style="animation-delay: 0.4s">
          标签
        </a>
      
    
      
        <a href="/post/about" class="menu" style="animation-delay: 0.6000000000000001s">
          关于
        </a>
      
    
  </div>
  <div class="site-footer">
    <div class="py-4 text-gray-700">Powered by <a href="https://gridea-theme-walker.netlify.com/" target="_blank">Gridea</a></div>
    <a class="rss" href="https://ygytl.github.io//atom.xml" target="_blank">RSS</a>
  </div>
</div>
<div class="mask" onclick="closeMenu()">
</div>
      <div class="content-wrapper py-32 lg:p-8 lg:w-3/4 post-detail animated fadeIn">
        <h1 class="text-3xl font-bold lg:mt-16">1111 Online Map (30分)题解</h1>
        <div class="text-sm text-gray-700 lg:my-8">
          2020-07-04 / 7 min read
        </div>
        
        <div class="post-content yue">
          <p>1111 Online Map (30分)</p>
<p>Input our current position and a destination, an online map can recommend several paths. Now your job is to recommend two paths to your user: one is the shortest, and the other is the fastest. It is guaranteed that a path exists for any request.</p>
<h3 id="input-specification">Input Specification:</h3>
<p>Each input file contains one test case. For each case, the first line gives two positive integers <em>N</em> (2≤<em>N</em>≤500), and <em>M</em>, being the total number of streets intersections on a map, and the number of streets, respectively. Then <em>M</em> lines follow, each describes a street in the format:</p>
<pre><code>V1 V2 one-way length time
</code></pre>
<p>where <code>V1</code> and <code>V2</code> are the indices (from 0 to <em>N</em>−1) of the two ends of the street; <code>one-way</code> is 1 if the street is one-way from <code>V1</code> to <code>V2</code>, or 0 if not; <code>length</code> is the length of the street; and <code>time</code> is the time taken to pass the street.</p>
<p>Finally a pair of source and destination is given.</p>
<h3 id="output-specification">Output Specification:</h3>
<p>For each case, first print the shortest path from the source to the destination with distance <code>D</code> in the format:</p>
<pre><code>Distance = D: source -&gt; v1 -&gt; ... -&gt; destination
</code></pre>
<p>Then in the next line print the fastest path with total time <code>T</code>:</p>
<pre><code>Time = T: source -&gt; w1 -&gt; ... -&gt; destination
</code></pre>
<p>In case the shortest path is not unique, output the fastest one among the shortest paths, which is guaranteed to be unique. In case the fastest path is not unique, output the one that passes through the fewest intersections, which is guaranteed to be unique.</p>
<p>In case the shortest and the fastest paths are identical, print them in one line in the format:</p>
<pre><code>Distance = D; Time = T: source -&gt; u1 -&gt; ... -&gt; destination
</code></pre>
<h3 id="sample-input-1">Sample Input 1:</h3>
<pre><code class="language-in">10 15
0 1 0 1 1
8 0 0 1 1
4 8 1 1 1
3 4 0 3 2
3 9 1 4 1
0 6 0 1 1
7 5 1 2 1
8 5 1 2 1
2 3 0 2 2
2 1 1 1 1
1 3 0 3 1
1 4 0 1 1
9 7 1 3 1
5 1 0 5 2
6 5 1 1 2
3 5
</code></pre>
<h3 id="sample-output-1">Sample Output 1:</h3>
<pre><code class="language-out">Distance = 6: 3 -&gt; 4 -&gt; 8 -&gt; 5
Time = 3: 3 -&gt; 1 -&gt; 5
</code></pre>
<h3 id="sample-input-2">Sample Input 2:</h3>
<pre><code class="language-in">7 9
0 4 1 1 1
1 6 1 1 3
2 6 1 1 1
2 5 1 2 2
3 0 0 1 1
3 1 1 1 3
3 2 1 1 2
4 5 0 2 2
6 5 1 1 2
3 5
</code></pre>
<h3 id="sample-output-2">Sample Output 2:</h3>
<pre><code class="language-out">Distance = 3; Time = 4: 3 -&gt; 2 -&gt; 5
</code></pre>
<hr>
<p>题目描述：分别求出发地点到目的地的最短距离，最短时间路径；当最短路程路线不唯一时，找到当中花费时间最短的路径；当最短时间路径不唯一时，找分岔口最少的路径；</p>
<p>输出规则提示：当最短距离路径与最短时间路径相同时，按照Distance = D; Time = T: source -&gt; u1 -&gt; ... -&gt; destination 格式输出</p>
<p>解题思路：Dij</p>
<hr>
<pre><code class="language-c++">#include&lt;bits/stdc++.h&gt;
using namespace std;
int n, m, st, et;
const int maxn = 1000 + 5;
const int inf = 0x3f3f3f3f;
vector&lt;int&gt; G[maxn];
int G2[maxn][maxn], G3[maxn][maxn];
bool vis[maxn];
int dist1[maxn], T1[maxn], f1[maxn], f2[maxn], dist2[maxn], T2[maxn];
stack&lt;int&gt; s1, s2;
void Dij1(){
	int sst = st, eet = et;
	memset(vis,false,sizeof(vis));
	memset(dist1,inf,sizeof(dist1));
	memset(T1,inf,sizeof(T1));
	dist1[st] = 0; T1[st] = 0;
	f1[st] = st;
	while(1){
		int index=-1, mx = inf;
		for(int i=0; i&lt;n; i++){
			if(!vis[i]&amp;&amp;dist1[i]&lt;mx){
				mx = dist1[i];
				index = i;
			}
		}
		if(index==-1) break;
		vis[index] = true;
		int u = index, v;
		for(int i=0; i&lt;G[u].size(); i++){
			v = G[u][i];
			if(!vis[v]){
				if(dist1[v]&gt;dist1[u]+G2[u][v]){
					dist1[v] = dist1[u] + G2[u][v];
					T1[v] = T1[u] + G3[u][v];
					f1[v] = u;
				}
				else if(dist1[v]==dist1[u]+G2[u][v]){
					if(T1[v]&gt;T1[u] + G3[u][v]){
						T1[v] = T1[u] + G3[u][v];
						f1[v] = u;
					}
				}
			}
		}
	}
	while(f1[eet]!=eet){
		s1.push(eet);
		eet = f1[eet];
	}
	s1.push(sst);
}
void Dij2(){
	int sst = st, eet = et;
	memset(vis,false,sizeof(vis));
	memset(dist2,0,sizeof(dist2));
	memset(T2,inf,sizeof(T2));
	T2[st] = 0; dist2[st] = 1;
	f2[st] = st;
	while(1){
		int index=-1, mx = inf;
		for(int i=0; i&lt;n; i++){
			if(!vis[i]&amp;&amp;T2[i]&lt;mx){
				mx = T2[i];
				index = i;
			}
		}
		if(index==-1) break;
		vis[index] = true;
		int u = index, v;
		for(int i=0; i&lt;G[u].size(); i++){
			v = G[u][i];
			if(!vis[v]){
				if(T2[v]&gt;T2[u]+G3[u][v]){
					T2[v] = T2[u] + G3[u][v];
					f2[v] = u;
					dist2[v] = dist2[u] + 1;
				}
				else if(T2[v]==T2[u]+G3[u][v]){
					if(dist2[v]&gt;dist2[u]+1){
						dist2[v] = dist2[u] + 1;
						f2[v] = u;
					}
				}
			}
		}
	}
	while(f2[eet]!=eet){
		s2.push(eet);
		eet = f2[eet];
	}
	s2.push(sst);
}

int main()
{
	int v1, v2, way, length, time;
	scanf(&quot;%d %d&quot;, &amp;n, &amp;m);
	for(int i=0; i&lt;m; i++){
		scanf(&quot;%d %d %d %d %d&quot;, &amp;v1, &amp;v2, &amp;way, &amp;length, &amp;time);
		
		if(way==1) G[v1].push_back(v2);//v1 -&gt; v2
		else{
			G[v1].push_back(v2);
			G[v2].push_back(v1);
		}
		G2[v1][v2] = G2[v2][v1] = length;
		G3[v1][v2] = G3[v2][v1] = time;
	}
	scanf(&quot;%d %d&quot;, &amp;st, &amp;et);
	Dij1();
	Dij2();
	if(s1==s2){
		printf(&quot;Distance = %d; Time = %d:&quot;, dist1[et], T2[et]);
		int c = 0;
		while(!s1.empty()){
			if(c==0) printf(&quot; &quot;);
			else printf(&quot; -&gt; &quot;);
			printf(&quot;%d&quot;, s1.top());
			s1.pop(); c++;
		}
	}
	else{
		printf(&quot;Distance = %d:&quot;, dist1[et]);
		int c = 0;
		while(!s1.empty()){
			if(c==0) printf(&quot; &quot;);
			else printf(&quot; -&gt; &quot;);
			printf(&quot;%d&quot;, s1.top());
			s1.pop(); c++;
		}
		printf(&quot;\nTime = %d:&quot;, T2[et]);
		c = 0;
		while(!s2.empty()){
			if(c==0) printf(&quot; &quot;);
			else printf(&quot; -&gt; &quot;);
			printf(&quot;%d&quot;, s2.top());
			s2.pop(); c++;
		} 
	}
	return 0;
}
</code></pre>

        </div>

        
          <a class="animated fadeInUp p-2 items-center text-sm text-gray-700 border hover:bg-gray-300 leading-none rounded-full flex lg:inline-flex m-4 " href="https://ygytl.github.io/tag/ZvpCdL_9C/">
            <span class="flex-auto">PAT (Advanced Level) Practice</span>
          </a>
        


        <div class="flex justify-between py-8">
          
            <div class="prev-post">
              <a href="https://ygytl.github.io/post/1115-counting-nodes-in-a-bst-30-fen-ti-jie/">
                <h3 class="post-title">
                  <i class="ri-arrow-left-line"></i>
                  1115 Counting Nodes in a BST (30分)题解
                </h3>
              </a>
            </div>
          

          
            <div class="next-post">
              <a href="https://ygytl.github.io/post/1107-social-clusters-30-fen-ti-jie/">
                <h3 class="post-title">
                  1107 Social Clusters (30分)题解
                  <i class="ri-arrow-right-line"></i>
                </h3>
              </a>
            </div>
          
        </div>

        
          
            <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>

<script>

  var gitalk = new Gitalk({
    clientID: '651ee788996886a0c8a2',
    clientSecret: '53231792a985805dbea714f6d780b970e1d3c139',
    repo: 'ygytl.github.io',
    owner: 'YGYtl',
    admin: ['YGYtl'],
    id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })

  gitalk.render('gitalk-container')

</script>

          

          
        

      </div>
    </div>

    <script src="https://ygytl.github.io//media/prism.js"></script>  
<script>

Prism.highlightAll()
let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

// This should probably be throttled.
// Especially because it triggers during smooth scrolling.
// https://lodash.com/docs/4.17.10#throttle
// You could do like...
// window.addEventListener("scroll", () => {
//    _.throttle(doThatStuff, 100);
// });
// Only not doing it here to keep this Pen dependency-free.

window.addEventListener("scroll", event => {
  let fromTop = window.scrollY;

  mainNavLinks.forEach((link, index) => {
    let section = document.getElementById(decodeURI(link.hash).substring(1));
    let nextSection = null
    if (mainNavLinks[index + 1]) {
      nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
    }
    if (section.offsetTop <= fromTop) {
      if (nextSection) {
        if (nextSection.offsetTop > fromTop) {
          link.classList.add("current");
        } else {
          link.classList.remove("current");    
        }
      } else {
        link.classList.add("current");
      }
    } else {
      link.classList.remove("current");
    }
  });
});


document.addEventListener("DOMContentLoaded", function() {
  var lazyImages = [].slice.call(document.querySelectorAll(".post-feature-image.lazy"));

  if ("IntersectionObserver" in window) {
    let lazyImageObserver = new IntersectionObserver(function(entries, observer) {
      entries.forEach(function(entry) {
        if (entry.isIntersecting) {
          let lazyImage = entry.target
          lazyImage.style.backgroundImage = `url(${lazyImage.dataset.bg})`
          lazyImage.classList.remove("lazy")
          lazyImageObserver.unobserve(lazyImage)
        }
      });
    });

    lazyImages.forEach(function(lazyImage) {
      lazyImageObserver.observe(lazyImage)
    })
  } else {
    // Possibly fall back to a more compatible method here
  }
});

const menuContainer = document.querySelector('.menu-container')
const menus = document.querySelectorAll('.menu-container .menu')
const mask = document.querySelector('.mask')
const contentWrapper = document.querySelector('.content-wrapper')
const latestArticle = document.querySelector('.latest-article')
const readMore = document.querySelector('.read-more')
const indexPage = document.querySelector('.index-page')

const isHome = location.pathname === '/'
if (latestArticle) {
  latestArticle.style.display = isHome ? 'block' : 'none'
  readMore.style.display = isHome ? 'block' : 'none'
  indexPage.style.display = isHome ? 'none' : 'block'
}

const openMenu = () => {
  menuContainer.classList.add('open')
  menus.forEach(menu => {
    menu.classList.add('animated', 'fadeInLeft')
  })
  mask.classList.add('open')
  contentWrapper.classList.add('is-second')
}

const closeMenu = () => {
  menuContainer.classList.remove('open')
  menus.forEach(menu => {
    menu.classList.remove('animated', 'fadeInLeft')
  })
  mask.classList.remove('open')
  contentWrapper.classList.remove('is-second')
}
</script>
  
  </body>
</html>
